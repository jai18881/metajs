/*
 * MetaJS - MetaPlatform project
 *
 * @author Jiri Hybek <jiri.hybek@cryonix.cz> / Cryonix Innovations <www.cryonix.cz>
 * @license MIT
 */
window.Meta||(window.Meta={}),window.Meta.channels={},window.Meta.Channel=function(n){this.listeners=[],this.config=n||{},this.config.name&&(window.Meta.channels[this.config.name]=this)},window.Meta.Channel.prototype.subscribe=function(n){this.listeners.push(n)},window.Meta.Channel.prototype.unsubscribe=function(n){var i=this.listeners.indexOf(n);i>=0&&this.listeners.splice(i,1)},window.Meta.Channel.prototype.publish=function(n){this.config.onPublish&&(n=this.config.onPublish.call(this,n));for(var i=0;i<this.listeners.length;i++)this.listeners[i](n)};